project(FNORD_FTS)

find_package(Threads)
add_definitions(-DBOOST_THREAD_DONT_USE_CHRONO)
set(Boost_USE_MULTITHREADED ON)
#set(Boost_USE_STATIC_LIBS ON)
find_package(Boost COMPONENTS date_time filesystem iostreams regex system thread REQUIRED)
include_directories(${Boost_INCLUDE_DIRS})
include_directories(../)

file(GLOB_RECURSE FNORD_FTS_SOURCES
  search/*.cc
  analysis/*.cc
  document/*.cc
  index/*.cc
  queryparser/*.cc
  store/*.cc
  util/*.c*)

set(FNORD_FTS_LIBS
    ${CMAKE_THREAD_LIBS_INIT}
    ${Boost_LIBRARIES}
    z
    PARENT_SCOPE)

add_library(fnord-fts OBJECT ${FNORD_FTS_SOURCES})
